!function(e){e(document).on("ready",function(){!function(){var t=e("#cb-select-all-1, #cb-select-all-2"),a=e(".check-column").find("input").not(t);t.on("change",function(){a.prop("checked",this.checked),t.not(this).prop("checked",this.checked),n()}),a.on("change",function(){a.filter(":checked").length===a.length?t.prop("checked",!0):t.prop("checked",!1),n()});var n=function(){a.filter(":checked").length?(e(".e-table-actions .move-to-trash").removeClass("e-hidden"),e(".e-table-actions .go-to-trash").addClass("e-hidden")):(e(".e-table-actions .move-to-trash").addClass("e-hidden"),e(".e-table-actions .go-to-trash").removeClass("e-hidden"))}}(),e("#e-edit-post").serialize(),LP.setUrl(window.location.href.removeQueryVar("updated"))}).on("click",".e-post-attachment .set-attachment",function(e){e.preventDefault(),e.stopPropagation(),wp.media.featuredImage.frame().open()}).on("click",".e-post-attachment .remove-attachment a",function(e){e.preventDefault(),e.stopPropagation(),wp.media.featuredImage.remove()}).on("click",'input[name="_lp_course_result"]',function(){e('input[name="_lp_course_result"]:checked').val()}).on("mouseup",function(t){e(".anim").removeClass("anim")}).on("click",".edit-slug",function(){var t=e("#editable-post-name-full"),a=e(".edit-slug"),n=e("#e-button-save-slug"),o=e("#e-button-cancel-slug"),i=e("#sample-permalink"),c=e("#e-sample-permalink-editable"),l=t.text();a.hide(),n.show(),o.show(),i.hide(),c.show().children("input").val(l),n.off("click").on("click",function(){var t=c.children("input").val();t!=l?e.post(_wpUtilSettings.ajax,{action:"sample-permalink",post_id:e('input[name="post_ID"]').val(),new_slug:t,new_title:e('input[name="post_title"]').val(),e_post:1,samplepermalinknonce:e("#samplepermalinknonce").val()},function(l){var s=e(l);s.find(".edit-slug").addClass("e-button"),e("#e-wp-sample-permalink").html(s),a.show(),n.hide(),o.hide(),i.show(),c.hide(),e("#post_name").val(t)}):o.click()}),o.off("click").on("click",function(){a.show(),n.hide(),o.hide(),i.show(),c.hide()}),c.children("input").off("keydown.update-slug").on("keydown.update-slug",function(e){switch(e.keyCode){case 13:e.preventDefault(),n.trigger("click");break;case 27:e.preventDefault(),o.trigger("click")}}).focus()}).on("click",".e-new-post",function(t){t.preventDefault(),e(t.target).closest("a").addClass("disabled"),e.ajax({url:lpFrontendCourseEditorSettings.rootURL+"?lp-ajax=create-new-post",data:e(this).data(),success:function(e){(e=LP.parseJSON(e)).redirect&&(window.location.href=e.redirect)}})}),e(document).ajaxComplete(function(t,a,n){if(!!n.data&&n.data.match(/action=get-post-thumbnail-html/)){var o=n.data.match(/thumbnail_id=(-?[0-9]+)/),i=o?parseInt(o[1]):-1;e(".post-attachment").html(e(a.responseJSON.data).find("img")).parent().toggleClass("has-attachment",i>0).find('input[name="_thumbnail_id"]').val(i)}})}(jQuery);